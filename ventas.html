<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ventas - Los Cabos Motors</title>

  <!-- Iconos / Fuente -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="Images/loscabosmotorsweb.png">

  <style>
/* ---------------- GENERAL ---------------- */
body {
  margin: 0;
  padding: 0;
  background-color: #0c0c0c;
  color: white;
  font-family: 'Poppins', sans-serif;
}

a { text-decoration: none; }

/* ---------------- HEADER ---------------- */
header {
  position: relative;
  background: url('Images/bannerarticulos.png') center/cover no-repeat;
  height: 260px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

header::before {
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.55);
}

header h1 {
  position: relative;
  z-index: 2;
  font-size: 2.6rem;
  margin: 0;
  text-shadow: 2px 2px 8px black;
}

/* ---------------- NAV ---------------- */
nav {
  position: absolute;
  top: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 28px;
  padding: 12px 0;
  background: rgba(0,0,0,0.25);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,0.05);
}

nav a {
  color: #fff;
  padding: 6px 12px;
  font-size: 0.95rem;
  font-weight: 300;
  border-radius: 4px;
  transition: .25s;
}

nav a:hover {
  color: #ff3c3c;
  background: rgba(255,60,60,0.2);
}

@media(max-width:600px){
  nav { gap:12px; padding:8px 0; }
  nav a { font-size:.78rem; padding:5px 8px; }
  header h1 { font-size: 2rem; }
}

/* ---------------- CONTENEDOR ---------------- */
.container {
  max-width: 1250px;
  margin: auto;
  padding: 35px 22px;
}

/* ---------------- TITULO ---------------- */
.hero h2 {
  color: #ff3c3c;
  font-size: 1.8rem;
  margin: 0;
}

.hero p {
  color: #d2d2d2;
  margin: 4px 0 20px;
}

/* ---------------- LAYOUT PRINCIPAL ---------------- */
.layout {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: 28px;
}

@media(max-width:850px){
  .layout { grid-template-columns: 1fr; }
}

/* ---------------- GRID DE PRODUCTOS ---------------- */
.products {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
  gap: 24px;
}

/* ---------------- CARD PRODUCTO ---------------- */
.product {
  background: rgba(255,255,255,0.05);
  border-radius: 14px;
  padding: 15px;
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(5px);
  transition: 0.3s ease;
}

.product:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 28px rgba(0,0,0,0.45);
}

/* IMAGEN */
.product img {
  width: 100%;
  height: 210px;
  border-radius: 12px;
  object-fit: cover;
}

/* TEXTO */
.product h3 {
  margin: 12px 0 6px;
  font-size: 1.15rem;
}

.product p {
  color: #d1d1d1;
  font-size: .9rem;
}

.price {
  margin-top: 4px;
  color: #ff3c3c;
  font-weight: 700;
  font-size: 1.1rem;
}

/* CONTROLES */
.prod-controls {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 12px;
}

.qty {
  display: flex;
  align-items: center;
  background: rgba(255,255,255,0.07);
  padding: 6px;
  border-radius: 8px;
  gap: 6px;
}

.qty button {
  border: 1px solid rgba(255,255,255,0.15);
  background: transparent;
  color: white;
  padding: 6px 8px;
  cursor: pointer;
  border-radius: 6px;
}

.qty input {
  width: 34px;
  border: none;
  background: transparent;
  color: white;
  text-align: center;
  font-weight: 700;
}

/* BOT√ìN AGREGAR */
.add-btn {
  margin-left: auto;
  background: #ff3c3c;
  color: white;
  padding: 10px 14px;
  border-radius: 8px;
  border: none;
  font-weight: 700;
  cursor: pointer;
  transition: .25s;
}

.add-btn:hover {
  transform: translateY(-2px);
  background: #ff5050;
}

/* ---------------- ASIDE (CARRITO) ---------------- */
.aside {
  background: rgba(255,255,255,0.05);
  padding: 16px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(6px);
  height: fit-content;
}

.aside h3 {
  margin-top: 0;
  color: #ff3c3c;
}

/* ITEMS */
.cart-list {
  max-height: 300px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.cart-item {
  display: flex;
  gap: 12px;
  align-items: center;
  background: rgba(255,255,255,0.05);
  padding: 10px;
  border-radius: 10px;
}

.cart-item img {
  width: 70px;
  height: 60px;
  object-fit: cover;
  border-radius: 8px;
}

/* TOTAL */
.total-row {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.15);
  display: flex;
  justify-content: space-between;
}

.total-row strong {
  font-size: 1.2rem;
  color: #ff3c3c;
}

/* FORMULARIO */
.form-group input {
  width: 100%;
  padding: 10px;
  background: #111;
  color: white;
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 8px;
}

/* BOT√ìN WHATSAPP */
.checkout-btn {
  margin-top: 14px;
  width: 100%;
  padding: 12px;
  background: #25D366;
  border: none;
  color: white;
  font-weight: 800;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1rem;
  transition: .25s;
}

.checkout-btn:hover {
  background: #1ebe59;
}
</style>

</head>

<body>

<header>
  <h1>Art√≠culos para tu carro</h1>
  <h2>Venta de articulos y accesorios para tu auto</h2>
  <nav>
    <a href="index.html">Inicio</a>
    <a href="ventas.html">Art√≠culos para carro</a>
    <a href="ultimas_ventas.html">√öltimas Ventas</a>
    <a href="https://wa.me/526241181978">WhatsApp</a>
  </nav>
</header>

<main class="container">

  <section class="hero">
    <div>
      <h2>Tienda de accesorios & repuestos</h2>
      <p>Env√≠os solo en Los Cabos, BCS. Aparta y paga ‚Äî te llega pedido por WhatsApp.</p>
    </div>
  </section>

  <div class="layout">

    <!-- PRODUCTOS -->
    <div class="products" id="productsGrid"></div>

    <!-- ASIDE -->
    <aside class="aside">
      <h3>Tu pedido</h3>

      <div id="cartList">
        <div class="empty" id="cartEmpty">No hay art√≠culos. Agrega algo :)</div>
      </div>

      <div class="total-row">
        <strong>Total:</strong>
        <strong id="cartTotal">$0 MXN</strong>
      </div>

      <button id="checkoutBtn" class="checkout-btn">
        <i class="fab fa-whatsapp"></i> Enviar pedido
      </button>

    </aside>
  </div>
</main>

<script>
/* ------------------ PRODUCTOS (ARREGlADOS) ------------------ */
const PRODUCTS = [
  {
    id:'lip-mustang',
    title:'1x Lip deportivo - Mustang 2001-2019',
    desc:'Lip delantero deportivo estilo GT',
    price:2800,
    img:[
      'ventas/lipmustang.jpg',
      'ventas/lipmustang2.jpg',
      'ventas/lipmustang3.jpg'
    ]
  },
  {
    id:'porta-placas',
    title:'1x Porta placas deportivo',
    desc:'Porta placas met√°lico reforzado',
    price:850,
    img:[
      'ventas/portaplaca.jpg',
      'ventas/portaplaca2.jpg'
    ]
  },
  {
    id:'llanta-winrun',
    title:'1x Llanta Winrun 225/35ZR20',
    desc:'Llanta deportiva 93W XL',
    price:1500,
    img:[
      'ventas/winrunll.jpg',
      'ventas/winrunll2.jpg'
    ]
  }
];

const WHATSAPP_NUMBER = "526241181978";

/* ------------------ RENDER PRODUCTOS ------------------ */
const productsGrid = document.getElementById('productsGrid');

PRODUCTS.forEach(p => {
  const div = document.createElement("div");
  div.className = "product";

  div.innerHTML = `
    <div class="product-img-wrapper">
      ${p.img.map((img, i) =>
        `<img src="${img}" class="product-img ${i===0 ? 'active' : ''}">`
      ).join('')}

      <button class="product-arrow left">‚ùÆ</button>
      <button class="product-arrow right">‚ùØ</button>
    </div>

    <h3>${p.title}</h3>
    <p>${p.desc}</p>

    <div class="price">$${p.price.toLocaleString()} MXN</div>

    <div class="prod-controls">
      <div class="qty">
        <button class="qty-dec" data-id="${p.id}">-</button>
        <input type="number" class="qty-input" min="1" value="1" data-id="${p.id}">
        <button class="qty-inc" data-id="${p.id}">+</button>
      </div>
      <button class="add-btn" data-id="${p.id}">Agregar</button>
    </div>
  `;

  productsGrid.appendChild(div);
});

/* ------------------ CARRUSEL Y ZOOM ------------------ */
setTimeout(()=>{
  document.querySelectorAll(".product").forEach(card => {
    const imgs = card.querySelectorAll(".product-img");
    const left = card.querySelector(".product-arrow.left");
    const right = card.querySelector(".product-arrow.right");
    const wrapper = card.querySelector(".product-img-wrapper");
    let index = 0;

    function show(i){
      imgs.forEach(x => x.classList.remove("active"));
      imgs[i].classList.add("active");
    }

    left.onclick = () => { index = (index - 1 + imgs.length) % imgs.length; show(index); };
    right.onclick = () => { index = (index + 1) % imgs.length; show(index); };

    // ZOOM
    wrapper.addEventListener("click", () => {
      wrapper.classList.toggle("zoom-active");
    });

  });
}, 300);

/* ------------------ CARRITO ------------------ */
let CART = {};

function updateCart(){
  const cartList = document.getElementById("cartList");
  const cartTotal = document.getElementById("cartTotal");

  cartList.innerHTML = "";

  const items = Object.values(CART);
  if(items.length === 0){
    cartList.innerHTML = `<div class="empty">No hay art√≠culos. Agrega algo :)</div>`;
    cartTotal.textContent = "$0 MXN";
    return;
  }

  let total = 0;

  items.forEach(ci => {
    total += ci.qty * ci.product.price;

    cartList.innerHTML += `
      <div class="cart-item">
        <img src="${ci.product.img[0]}">
        <div>
          <strong>${ci.product.title}</strong><br>
          <small>${ci.qty} x $${ci.product.price.toLocaleString()}</small>
        </div>
      </div>
    `;
  });

  cartTotal.textContent = "$" + total.toLocaleString() + " MXN";
}

document.addEventListener("click", e => {
  if(e.target.classList.contains("add-btn")){
    const id = e.target.dataset.id;
    const product = PRODUCTS.find(x => x.id === id);
    const qtyInput = document.querySelector(`.qty-input[data-id="${id}"]`);
    const qty = Math.max(1, parseInt(qtyInput.value));

    if(CART[id]) CART[id].qty += qty;
    else CART[id] = { product, qty };

    updateCart();
  }

  if(e.target.classList.contains("qty-inc")){
    const id = e.target.dataset.id;
    const input = document.querySelector(`.qty-input[data-id="${id}"]`);
    input.value = Math.max(1, parseInt(input.value) + 1);
  }

  if(e.target.classList.contains("qty-dec")){
    const id = e.target.dataset.id;
    const input = document.querySelector(`.qty-input[data-id="${id}"]`);
    input.value = Math.max(1, parseInt(input.value) - 1);
  }
});

/* ------------------ ENV√çO POR WHATSAPP ------------------ */
document.getElementById("checkoutBtn").onclick = () => {
  const items = Object.values(CART);
  if(items.length === 0) return alert("El carrito est√° vac√≠o.");

  let msg = "üì¶ *Pedido Los Cabos Motors*\n\n";

  items.forEach(ci => {
    msg += `‚Ä¢ ${ci.product.title}\n   Cantidad: ${ci.qty}\n   Subtotal: $${(ci.qty * ci.product.price).toLocaleString()}\n\n`;
  });

  msg += `*TOTAL:* $${items.reduce((s,i)=>s+i.qty*i.product.price,0).toLocaleString()} MXN\n\n`;

  const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;

  window.open(url, "_blank");
};
</script>

</body>
</html>
