<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ventas - Los Cabos Motors</title>

  <!-- Iconos / Fuente -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="Images/loscabosmotorsweb.png">

  <style>
    :root{
      --bg:#0c0c0c;
      --card:#151515;
      --accent:#ff3c3c;
      --muted:#bdbdbd;
      --glass: rgba(255,255,255,0.04);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Poppins',sans-serif;
      background:var(--bg);
      color: white;
    }

    /* ---------------- HEADER ---------------- */
    header {
    background-image: url('Images/bannerarticulos.png');
    background-size: cover;
  background-position: 50% 85%;
  height: 260px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
    }
    header::before {
      content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
    }
    .header-content {
      position: relative;
      z-index: 2;
    }
    h1 {
      font-size: 2.6rem;
      margin: 0;
      color: white;
      text-shadow: 2px 2px 8px black;
}
  h2 {
  margin-top: 8px;
      font-weight: 300;
      color: gray;
      font-size: 1rem;
      text-shadow: 1px 1px 3px black;
}

    nav {
      position:absolute;
      top:0;
      width:100%;
      display:flex;
      justify-content:center;
      gap:26px;
      padding:10px 0;
      z-index:999;

      backdrop-filter:blur(8px);
      background:rgba(0,0,0,0.25);
      border-bottom:1px solid rgba(255,255,255,0.06);
    }

    nav a{
      color:#fff;
      font-size:0.95rem;
      padding:6px 10px;
      transition:0.25s;
      border-radius:4px;
    }

    nav a:hover{
      background:rgba(255,60,60,0.25);
      color:#ff3c3c;
    }

    /* ---------------- LAYOUT ---------------- */
    .container{
      max-width:1200px;
      margin:28px auto;
      padding:0 18px;
    }

    .hero{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:18px;
    }

    .hero h2{
      margin:0;
      font-size:1.6rem;
      color:var(--accent);
    }

    /* ---------------- GRID PRODUCTOS ---------------- */
    .layout{
      display:grid;
      grid-template-columns:1fr 380px;
      gap:22px;
    }

    .products{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
      gap:18px;
    }

    .product{
      background:var(--card);
      border-radius:12px;
      padding:14px;
      border:1px solid rgba(255,255,255,0.05);
      overflow:hidden;
      transition:0.2s ease;
    }

    .product:hover{
      transform:translateY(-6px);
      box-shadow:0 12px 30px rgba(0,0,0,0.6);
    }

    /* ---- GALER√çA / CARRUSEL ---- */
    .product-img-wrapper{
      position:relative;
      overflow:hidden;
      cursor:zoom-in;
      border-radius:8px;
      height:220px;
    }

    .product-img{
      width:100%;
      height:220px;
      object-fit:cover;
      display:none;
      transition:opacity .25s ease;
    }

    .product-img.active{display:block; opacity:1;}

    .product-img-wrapper.zoom-active .product-img{
      transform:scale(1.9);
      cursor:zoom-out;
    }

    .product-arrow{
      position:absolute;
      top:50%; transform:translateY(-50%);
      background:rgba(0,0,0,0.55);
      color:white;
      padding:8px 12px;
      border-radius:50%;
      border:none;
      cursor:pointer;
      opacity:0;
      transition:.25s;
      z-index:5;
    }

    .product-img-wrapper:hover .product-arrow{opacity:1;}

    .product-arrow.left{left:10px;}
    .product-arrow.right{right:10px;}

    .product:hover img{transform:scale(1.05);}

    .product h3{margin:10px 0 5px;font-size:1.05rem;}
    .product p{color:var(--muted);font-size:0.9rem;}

    /* PRICE */
    .price{color:var(--accent);font-weight:700;font-size:1rem;}

    /* ----------- CANTIDAD + BOT√ìN ----------- */
    .prod-controls{
      display:flex;
      align-items:center;
      margin-top:10px;
      gap:10px;
    }

    .qty{
      display:flex;
      align-items:center;
      background:var(--glass);
      padding:5px;
      border-radius:8px;
      gap:6px;
    }

    .qty input{
      width:36px;
      background:transparent;
      border:none;
      color:white;
      text-align:center;
    }

    .qty button{
      background:transparent;
      border:1px solid rgba(255,255,255,0.1);
      color:white;
      padding:4px 7px;
      border-radius:6px;
      cursor:pointer;
    }

    .add-btn{
      margin-left:auto;
      background:var(--accent);
      color:white;
      padding:8px 12px;
      border:none;
      border-radius:8px;
      font-weight:700;
      cursor:pointer;
    }

    .add-btn:hover{transform:scale(1.04);}

    /* ---------- ASIDE (CARRITO) ---------- */
    .aside{
      background:rgba(255,255,255,0.02);
      border-radius:12px;
      padding:16px;
      border:1px solid rgba(255,255,255,0.04);
      position:sticky;
      top:20px;
    }

    .cart-item{
      display:flex;
      gap:10px;
      padding:8px;
      background:rgba(255,255,255,0.03);
      border-radius:8px;
    }

    .cart-item img{
      width:64px; height:46px;
      object-fit:cover;
      border-radius:6px;
    }

    .checkout-btn{
      width:100%;
      margin-top:12px;
      padding:12px;
      background:var(--accent);
      color:white;
      border:none;
      border-radius:10px;
      font-weight:800;
      cursor:pointer;
    }
  </style>
</head>

<body>

<header>
  <h1>Art√≠culos para tu carro</h1>
  <h2>Venta de articulos y accesorios para tu auto</h2>
  <nav>
    <a href="index.html">Inicio</a>
    <a href="ventas.html">Art√≠culos para carro</a>
    <a href="ultimas_ventas.html">√öltimas Ventas</a>
    <a href="https://wa.me/526241181978">WhatsApp</a>
  </nav>
</header>

<main class="container">

  <section class="hero">
    <div>
      <h2>Tienda de accesorios & repuestos</h2>
      <p>Env√≠os solo en Los Cabos, BCS. Aparta y paga ‚Äî te llega pedido por WhatsApp.</p>
    </div>
  </section>

  <div class="layout">

    <!-- PRODUCTOS -->
    <div class="products" id="productsGrid"></div>

    <!-- ASIDE -->
    <aside class="aside">
      <h3>Tu pedido</h3>

      <div id="cartList">
        <div class="empty" id="cartEmpty">No hay art√≠culos. Agrega algo :)</div>
      </div>

      <div class="total-row">
        <strong>Total:</strong>
        <strong id="cartTotal">$0 MXN</strong>
      </div>

      <button id="checkoutBtn" class="checkout-btn">
        <i class="fab fa-whatsapp"></i> Enviar pedido
      </button>

    </aside>
  </div>
</main>

<script>
/* ------------------ PRODUCTOS (ARREGlADOS) ------------------ */
const PRODUCTS = [
  {
    id:'lip-mustang',
    title:'1x Lip deportivo - Mustang 2001-2019',
    desc:'Lip delantero deportivo estilo GT',
    price:2800,
    img:[
      'ventas/lipmustang.jpg',
      'ventas/lipmustang2.jpg',
      'ventas/lipmustang3.jpg'
    ]
  },
  {
    id:'porta-placas',
    title:'1x Porta placas deportivo',
    desc:'Porta placas met√°lico reforzado',
    price:850,
    img:[
      'ventas/portaplaca.jpg',
      'ventas/portaplaca2.jpg'
    ]
  },
  {
    id:'llanta-winrun',
    title:'1x Llanta Winrun 225/35ZR20',
    desc:'Llanta deportiva 93W XL',
    price:1500,
    img:[
      'ventas/winrunll.jpg',
      'ventas/winrunll2.jpg'
    ]
  }
];

const WHATSAPP_NUMBER = "526241181978";

/* ------------------ RENDER PRODUCTOS ------------------ */
const productsGrid = document.getElementById('productsGrid');

PRODUCTS.forEach(p => {
  const div = document.createElement("div");
  div.className = "product";

  div.innerHTML = `
    <div class="product-img-wrapper">
      ${p.img.map((img, i) =>
        `<img src="${img}" class="product-img ${i===0 ? 'active' : ''}">`
      ).join('')}

      <button class="product-arrow left">‚ùÆ</button>
      <button class="product-arrow right">‚ùØ</button>
    </div>

    <h3>${p.title}</h3>
    <p>${p.desc}</p>

    <div class="price">$${p.price.toLocaleString()} MXN</div>

    <div class="prod-controls">
      <div class="qty">
        <button class="qty-dec" data-id="${p.id}">-</button>
        <input type="number" class="qty-input" min="1" value="1" data-id="${p.id}">
        <button class="qty-inc" data-id="${p.id}">+</button>
      </div>
      <button class="add-btn" data-id="${p.id}">Agregar</button>
    </div>
  `;

  productsGrid.appendChild(div);
});

/* ------------------ CARRUSEL Y ZOOM ------------------ */
setTimeout(()=>{
  document.querySelectorAll(".product").forEach(card => {
    const imgs = card.querySelectorAll(".product-img");
    const left = card.querySelector(".product-arrow.left");
    const right = card.querySelector(".product-arrow.right");
    const wrapper = card.querySelector(".product-img-wrapper");
    let index = 0;

    function show(i){
      imgs.forEach(x => x.classList.remove("active"));
      imgs[i].classList.add("active");
    }

    left.onclick = () => { index = (index - 1 + imgs.length) % imgs.length; show(index); };
    right.onclick = () => { index = (index + 1) % imgs.length; show(index); };

    // ZOOM
    wrapper.addEventListener("click", () => {
      wrapper.classList.toggle("zoom-active");
    });

  });
}, 300);

/* ------------------ CARRITO ------------------ */
let CART = {};

function updateCart(){
  const cartList = document.getElementById("cartList");
  const cartTotal = document.getElementById("cartTotal");

  cartList.innerHTML = "";

  const items = Object.values(CART);
  if(items.length === 0){
    cartList.innerHTML = `<div class="empty">No hay art√≠culos. Agrega algo :)</div>`;
    cartTotal.textContent = "$0 MXN";
    return;
  }

  let total = 0;

  items.forEach(ci => {
    total += ci.qty * ci.product.price;

    cartList.innerHTML += `
      <div class="cart-item">
        <img src="${ci.product.img[0]}">
        <div>
          <strong>${ci.product.title}</strong><br>
          <small>${ci.qty} x $${ci.product.price.toLocaleString()}</small>
        </div>
      </div>
    `;
  });

  cartTotal.textContent = "$" + total.toLocaleString() + " MXN";
}

document.addEventListener("click", e => {
  if(e.target.classList.contains("add-btn")){
    const id = e.target.dataset.id;
    const product = PRODUCTS.find(x => x.id === id);
    const qtyInput = document.querySelector(`.qty-input[data-id="${id}"]`);
    const qty = Math.max(1, parseInt(qtyInput.value));

    if(CART[id]) CART[id].qty += qty;
    else CART[id] = { product, qty };

    updateCart();
  }

  if(e.target.classList.contains("qty-inc")){
    const id = e.target.dataset.id;
    const input = document.querySelector(`.qty-input[data-id="${id}"]`);
    input.value = Math.max(1, parseInt(input.value) + 1);
  }

  if(e.target.classList.contains("qty-dec")){
    const id = e.target.dataset.id;
    const input = document.querySelector(`.qty-input[data-id="${id}"]`);
    input.value = Math.max(1, parseInt(input.value) - 1);
  }
});

/* ------------------ ENV√çO POR WHATSAPP ------------------ */
document.getElementById("checkoutBtn").onclick = () => {
  const items = Object.values(CART);
  if(items.length === 0) return alert("El carrito est√° vac√≠o.");

  let msg = "üì¶ *Pedido Los Cabos Motors*\n\n";

  items.forEach(ci => {
    msg += `‚Ä¢ ${ci.product.title}\n   Cantidad: ${ci.qty}\n   Subtotal: $${(ci.qty * ci.product.price).toLocaleString()}\n\n`;
  });

  msg += `*TOTAL:* $${items.reduce((s,i)=>s+i.qty*i.product.price,0).toLocaleString()} MXN\n\n`;

  const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;

  window.open(url, "_blank");
};
</script>

</body>
</html>
