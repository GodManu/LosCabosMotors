<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ventas - Los Cabos Motors</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="Images/loscabosmotorsweb.png">

  <style>
    :root {
      --bg:#0c0c0c;
      --card:#151515;
      --accent:#ff3c3c;
      --glass:rgba(255,255,255,0.04);
      --muted:#bdbdbd;
    }

    body {
      margin:0;
      font-family:'Poppins', sans-serif;
      background:var(--bg);
      color:white;
    }

    /* -------------------- HEADER -------------------- */
    header {
      background-image: url('Images/bannerarticulos.png');
      background-size: cover;
      background-position: center;
      height: 260px;
      display:flex;
      justify-content:center;
      align-items:center;
      flex-direction:column;
      position:relative;
    }

    header::before {
      content:"";
      position:absolute;
      width:100%;
      height:100%;
      background:rgba(0,0,0,0.45);
      top:0; left:0;
    }

    header h1 {
      position:relative;
      z-index:2;
      color:white;
      margin-top:80px;
      font-size:2.8rem;
      text-shadow:2px 2px 8px black;
    }

    nav {
      position:absolute;
      top:0;
      width:100%;
      z-index:999;
      padding:10px 0;
      display:flex;
      justify-content:center;
      gap:28px;
      backdrop-filter:blur(8px);
      background:rgba(0,0,0,0.25);
      border-bottom:1px solid rgba(255,255,255,0.05);
    }

    nav a {
      color:white;
      font-size:0.9rem;
      font-weight:300;
      padding:6px 10px;
      transition:0.25s;
    }

    nav a:hover {
      color:var(--accent);
    }

    .container {
      max-width:1200px;
      margin:35px auto;
      padding:0 20px;
    }

    .hero h2 {
      margin:0;
      font-size:1.6rem;
      color:var(--accent);
    }

    .hero p {
      margin:6px 0 0 0;
      color:var(--muted);
    }

    /* -------------------- PRODUCTOS -------------------- */

    .products {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
      gap:22px;
    }

    .product {
      background:var(--glass);
      border:1px solid rgba(255,255,255,0.06);
      border-radius:14px;
      padding:14px;
      transition:0.3s ease;
      box-shadow:0 0 15px rgba(255,60,60,0.08);
      position:relative;
    }

    .product:hover {
      transform:translateY(-5px);
      box-shadow:0 10px 28px rgba(255,60,60,0.15);
    }

    /* CARRUSEL */
    .carousel-wrapper {
      position:relative;
      height:180px;
      overflow:hidden;
      border-radius:12px;
      margin-bottom:12px;
    }

    .carousel-img {
      width:100%;
      height:100%;
      object-fit:cover;
      display:none;
    }

    .carousel-img.active {
      display:block;
    }

    .arrow {
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      color:white;
      background:rgba(0,0,0,0.55);
      padding:6px 10px;
      border-radius:50%;
      font-size:16px;
      cursor:pointer;
      opacity:0;
      transition:0.2s;
    }

    .carousel-wrapper:hover .arrow {
      opacity:1;
    }

    .arrow.left { left:8px; }
    .arrow.right { right:8px; }

    /* Zoom */
    .carousel-wrapper:hover .carousel-img.active {
      transform:scale(1.05);
      transition:0.3s ease;
    }

    .product h3 {
      margin:0;
      font-size:1rem;
      color:white;
    }

    .product p {
      color:var(--muted);
      font-size:0.9rem;
      min-height:32px;
    }

    .price {
      font-weight:bold;
      color:var(--accent);
      margin:6px 0 10px;
    }

    .prod-controls {
      display:flex;
      gap:8px;
      align-items:center;
    }

    .qty {
      display:flex;
      gap:6px;
      align-items:center;
      background:rgba(255,255,255,0.05);
      padding:6px 10px;
      border-radius:8px;
    }

    .qty button {
      background:none;
      border:1px solid rgba(255,255,255,0.1);
      color:white;
      padding:3px 7px;
      cursor:pointer;
      border-radius:6px;
    }

    .qty input {
      width:34px;
      text-align:center;
      background:none;
      border:none;
      color:white;
      font-weight:bold;
    }

    .add-btn {
      background:var(--accent);
      border:none;
      color:white;
      padding:7px 12px;
      border-radius:8px;
      cursor:pointer;
      margin-left:auto;
    }

    /* -------------------- CARRITO -------------------- */
    .layout {
      display:grid;
      grid-template-columns:1fr 350px;
      gap:22px;
    }

    .aside {
      background:rgba(255,255,255,0.03);
      padding:16px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.05);
      position:sticky;
      top:20px;
    }

    .checkout-btn {
      margin-top:12px;
      width:100%;
      background:var(--accent);
      color:white;
      padding:12px;
      border-radius:8px;
      border:none;
      font-weight:bold;
    }

  </style>
</head>

<body>

<header>
  <h1>Accesorios & Repuestos</h1>
  <nav>
    <a href="index.html">Inicio</a>
    <a href="ventas.html">Art√≠culos</a>
    <a href="ultimas_ventas.html">√öltimas ventas</a>
    <a href="https://wa.me/526241181978">WhatsApp</a>
  </nav>
</header>

<main class="container">

  <section class="hero">
    <h2>Tienda de accesorios</h2>
    <p>Envios solo en Los Cabos, BCS ‚Äî Aparta y paga por WhatsApp.</p>
  </section>

  <div class="layout">

    <!-- ------------- PRODUCTOS ------------- -->
    <div>
      <div class="products" id="productsGrid"></div>
    </div>

    <!-- ------------- CARRITO ------------- -->
    <aside class="aside">
      <h3>Tu pedido</h3>
      <div id="cartList"></div>
      <div style="display:flex; justify-content:space-between; margin-top:10px;">
        <span>Total:</span>
        <strong id="cartTotal">$0 MXN</strong>
      </div>

      <input id="c_name" placeholder="Nombre completo" style="margin-top:12px; width:100%; padding:10px;">
      <input id="c_phone" placeholder="WhatsApp" style="margin-top:8px; width:100%; padding:10px;">

      <button id="checkoutBtn" class="checkout-btn"><i class="fab fa-whatsapp"></i> Enviar pedido</button>
    </aside>

  </div>

</main>

<script>
/* ----------- PRODUCTOS (3 im√°genes por producto) ----------- */
const PRODUCTS = [
  {
    id:'lip-mustang',
    title:'Lip deportivo ‚Äì Mustang 2001-2019',
    desc:'Lip delantero estilo GT.',
    price:2800,
    imgs:[
      'ventas/lip1.jpg',
      'ventas/lip2.jpg',
      'ventas/lip3.jpg'
    ]
  },
  {
    id:'porta-placas',
    title:'Porta placas deportivo',
    desc:'Acabado premium anti-vibraci√≥n.',
    price:850,
    imgs:[
      'ventas/placa1.jpg',
      'ventas/placa2.jpg',
      'ventas/placa3.jpg'
    ]
  },
  {
    id:'llanta-winrun',
    title:'Llanta Winrun 225/35ZR20',
    desc:'√çndice 93W XL ‚Äì Alto desempe√±o.',
    price:1500,
    imgs:[
      'ventas/winrun1.jpg',
      'ventas/winrun2.jpg',
      'ventas/winrun3.jpg'
    ]
  }
];

/* ----------- RENDER ----------- */
const productsGrid = document.getElementById('productsGrid');

PRODUCTS.forEach(p=>{
  const el = document.createElement('div');
  el.className='product';
  el.innerHTML = `
    <div class="carousel-wrapper" data-id="${p.id}">
      <img class="carousel-img active" src="${p.imgs[0]}">
      <img class="carousel-img" src="${p.imgs[1]}">
      <img class="carousel-img" src="${p.imgs[2]}">

      <div class="arrow left" data-dir="left">‚ùÆ</div>
      <div class="arrow right" data-dir="right">‚ùØ</div>
    </div>

    <h3>${p.title}</h3>
    <p>${p.desc}</p>
    <div class="price">$${p.price.toLocaleString()} MXN</div>

    <div class="prod-controls">
      <div class="qty">
        <button class="qty-dec">-</button>
        <input type="number" value="1" min="1">
        <button class="qty-inc">+</button>
      </div>
      <button class="add-btn" data-id="${p.id}">Agregar</button>
    </div>
  `;
  productsGrid.appendChild(el);
});

/* ----------- CARRUSEL MANUAL ----------- */
document.querySelectorAll('.carousel-wrapper').forEach(wrapper=>{
  let index = 0;
  const imgs = wrapper.querySelectorAll('.carousel-img');
  const left = wrapper.querySelector('.arrow.left');
  const right = wrapper.querySelector('.arrow.right');

  function show(n){
    imgs.forEach(i=>i.classList.remove('active'));
    index = (n + imgs.length) % imgs.length;
    imgs[index].classList.add('active');
  }

  left.onclick = ()=>show(index-1);
  right.onclick = ()=>show(index+1);
});

/* ----------- CARRITO ----------- */
let CART = {};
const cartList = document.getElementById('cartList');
const cartTotal = document.getElementById('cartTotal');

function updateCart(){
  cartList.innerHTML="";
  let total = 0;

  Object.values(CART).forEach(item=>{
    total += item.qty * item.product.price;
    const row = document.createElement('div');
    row.style.margin="6px 0";
    row.innerHTML = `
      ${item.qty} √ó ${item.product.title}
      <strong style="float:right">$${(item.qty*item.product.price).toLocaleString()}</strong>
    `;
    cartList.appendChild(row);
  });

  if(total===0) cartList.innerHTML = "<p style='color:#777'>Carrito vac√≠o</p>";
  cartTotal.textContent = "$" + total.toLocaleString() + " MXN";
}

document.querySelectorAll('.add-btn').forEach((btn, i)=>{
  btn.onclick = ()=>{
    const id = btn.dataset.id;
    const product = PRODUCTS.find(p=>p.id===id);
    const qty = parseInt(btn.parentElement.querySelector("input").value) || 1;

    if(!CART[id]) CART[id] = {product, qty};
    else CART[id].qty += qty;

    updateCart();
  };
});

/* ----------- CHECKOUT ----------- */
document.getElementById('checkoutBtn').onclick = ()=>{
  const name = document.getElementById('c_name').value;
  const phone = document.getElementById('c_phone').value;
  const items = Object.values(CART);

  if(items.length===0){
    alert("El carrito est√° vac√≠o.");
    return;
  }

  let msg = "üõí *Pedido desde la tienda Los Cabos Motors*\n\n";
  msg += `üë§ Nombre: ${name || "No proporcionado"}\n`;
  msg += `üì± WhatsApp: ${phone || "No proporcionado"}\n\n`;

  msg += "*Art√≠culos:*\n";
  items.forEach(i=>{
    msg += `‚Ä¢ ${i.qty} √ó ${i.product.title} = $${(i.qty*i.product.price).toLocaleString()}\n`;
  });

  const total = items.reduce((t,i)=>t+i.qty*i.product.price, 0);
  msg += `\nTotal: *$${total.toLocaleString()} MXN*`;

  window.open(`https://wa.me/526241181978?text=${encodeURIComponent(msg)}`, "_blank");
};
</script>

</body>
</html>
